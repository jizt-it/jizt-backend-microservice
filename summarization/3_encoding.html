

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Encoding &mdash; Jizt - AI Summarization 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  

  
  

  
    <link rel="canonical" href="docs.jizt.it/summarization/3_encoding.html" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/js/custom.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Summarization" href="4_summarization.html" />
    <link rel="prev" title="Pre-processing" href="2_preprocessing.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Jizt - AI Summarization
          

          
            
            <img src="../_static/jizt-docs.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Summarization</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="1_introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_preprocessing.html">Pre-processing</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="4_summarization.html">Summarization</a></li>
<li class="toctree-l1"><a class="reference internal" href="5_postprocessing.html">Post-processing</a></li>
</ul>
<p class="caption"><span class="caption-text">Backend</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../backend/1_architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../backend/2_rest_api.html">REST API</a></li>
</ul>
<p class="caption"><span class="caption-text">Frontend</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../frontend/1_cross-platform-app.html">Cross-platform app</a></li>
</ul>
<p class="caption"><span class="caption-text">Help us</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/CONTRIBUTING.html">Contribute to Jizt</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Jizt - AI Summarization</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Encoding</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/jizt-it/jizt-backend/blob/main/docs/source/summarization/3_encoding.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="encoding">
<span id="summarization-encoding"></span><h1>Encoding<a class="headerlink" href="#encoding" title="Permalink to this headline">¶</a></h1>
<p>As we mentioned before, AI models generally work with numerical representations. <em>Word
embedding</em> techniques focus on linking text (either words, sentences, etc.) with real
number vectors. This makes it possible to apply common architectures within AI (and
especially Deep Learning), such as Convolutional Neural Networks (CNN), to text
generation. This idea, conceptually simple, involves great complexity, since the
generated vectors must retain as much information as possible from the original text,
including semantic and grammatical aspects. For example, the vectors corresponding to
the words “teacher” and “student” must preserve a certain relationship between them,
as well as with the word “education” or “school”. In addition, their connection with
the words “teach” or “learn” will be slightly different, since in this case we are
dealing with a different grammatical category (verbs, instead of nouns). Through
this example, we can understand that this is a complex process<a class="footnote-reference brackets" href="#id2" id="id1">1</a>.</p>
<p>Apart from that, in this stage, once we have the sentences divided from the previous
stage, we now are able to:</p>
<ol class="arabic simple">
<li><p>Split the text in smaller fragments, so we don’t exceed the model’s maximum
sequence length. This division is made, as we said, without splitting any
sentences.</p></li>
<li><p>Encode each of these fragments separately. The encoding itself is made by the <a class="reference external" href="https://huggingface.co/transformers/model_doc/t5.html#t5tokenizer">T5
Tokenizer</a>
provided by Hugging Face.</p></li>
<li><p>Summarize the encoded fragments (this is carried out in the <a class="reference internal" href="4_summarization.html#summarization-summarization"><span class="std std-ref">Summarization</span></a> stage).</p></li>
<li><p>Concatenate these partial summaries so we end up with a single summary. As we
always keep the order of the text fragments, this resultant summary will be
cohesive and coherent.</p></li>
</ol>
<div class="figure align-center" id="fig-summarization-process-detail">
<a class="reference internal image-reference" href="../_images/summarization-process-detail.png"><img alt="Summarization process in detail." src="../_images/summarization-process-detail.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 2 </span><span class="caption-text">Detailed steps in the summarization process. Text taken from <em>The Catcher in the
Rye</em>.</span><a class="headerlink" href="#fig-summarization-process-detail" title="Permalink to this image">¶</a></p>
</div>
<p>Something worth mentioning is that, while keeping the sentences complete, we ensure
that each all the fragments contain roughly the same number of sentences. This is
important because otherwise, some of the partial summaries could be too short.</p>
<p>For this, we first split the text eagerly, attending to the maximum sequence length,
and then we balance the number of sentences each fragment, keeping the order. The
following figure shows an example with a maximum length of 100 tokens.</p>
<div class="figure align-center" id="fig-sentence-balancing-process">
<a class="reference internal image-reference" href="../_images/sentence-balancing-process.png"><img alt="Division of the text into fragments." src="../_images/sentence-balancing-process.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 3 </span><span class="caption-text">Once we have divided the sentences eagerly, we balance the number of sentences in
each fragment.</span><a class="headerlink" href="#fig-sentence-balancing-process" title="Permalink to this image">¶</a></p>
</div>
<p>In the previous example, the standard deviation in the number of tokens between
fragments begins being <span class="math notranslate nohighlight">\(\sigma_1\)</span> = 39.63 and at the end is <span class="math notranslate nohighlight">\(\sigma_5\)</span> =
1.53.</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>If you want to learn more about this topic, we recommend to watch <a class="reference external" href="https://www.youtube.com/watch?v=8rXD5-xhemo&amp;list=PLoROMvodv4rOhcuXMZkNm7j3fVwBBY42z">Lecture 1</a>
and <a class="reference external" href="https://www.youtube.com/watch?v=kEMJRjEdNzM&amp;list=PLoROMvodv4rOhcuXMZkNm7j3fVwBBY42z&amp;index=2">Lecture 2</a>
from the <em>Stanford CS224N: NLP with Deep Learning</em> course (the whole course is a
pleasure to watch, anyway).</p>
</dd>
</dl>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="4_summarization.html" class="btn btn-neutral float-right" title="Summarization" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="2_preprocessing.html" class="btn btn-neutral float-left" title="Pre-processing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>