

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Architecture &mdash; Jizt - AI Summarization 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  

  
  

  
    <link rel="canonical" href="docs.jizt.it/backend/1_architecture.html" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/js/custom.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="REST API" href="2_rest_api.html" />
    <link rel="prev" title="Post-processing" href="../summarization/5_postprocessing.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Jizt - AI Summarization
          

          
            
            <img src="../_static/jizt-docs.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Summarization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../summarization/1_introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../summarization/2_preprocessing.html">Pre-processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../summarization/3_encoding.html">Encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../summarization/4_summarization.html">Summarization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../summarization/5_postprocessing.html">Post-processing</a></li>
</ul>
<p class="caption"><span class="caption-text">Backend</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_rest_api.html">REST API</a></li>
</ul>
<p class="caption"><span class="caption-text">Frontend</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../frontend/1_cross-platform-app.html">Cross-platform app</a></li>
</ul>
<p class="caption"><span class="caption-text">Help us</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/CONTRIBUTING.html">Contribute to Jizt</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Jizt - AI Summarization</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Architecture</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/jizt-it/jizt-backend/blob/main/docs/source/backend/1_architecture.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="architecture">
<span id="backend-architecture"></span><h1>Architecture<a class="headerlink" href="#architecture" title="Permalink to this headline">¶</a></h1>
<p>The architecture of Jizt’s backend has been conceived in a way that ensures
flexibility, scalability and high availability. For that, we have implemented a
microservice, event-driven architecture, so that each of the stages in the
summarization process is contained in a microservice. This way, we can scale each
microservice separately. This is useful, for example, in the case of the microservice
that implements the summarization stage, since this is the most time-consuming stage.
By scaling this microservice in particular, we are able to process more summaries in
parallel.</p>
<p>Below, we include an overview of the backend architecture:</p>
<div class="figure align-center" id="fig-backend-architecture">
<a class="reference internal image-reference" href="../_images/backend-arch-overview.png"><img alt="Backend architecture." src="../_images/backend-arch-overview.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 6 </span><span class="caption-text">Overview of the backend architecture.</span><a class="headerlink" href="#fig-backend-architecture" title="Permalink to this image">¶</a></p>
</div>
<p>As can be seen in the previous image, we use <a class="reference external" href="https://kubernetes.io/">Kubernetes</a>
to orchestrate the different microservices. In turn, <a class="reference external" href="https://kafka.apache.org/">Apache Kafka</a> makes possible the communication between these
microservices. Specifically, we use <a class="reference external" href="https://strimzi.io/">Strimzi</a>, which allows us
to easily deploy Kafka on Kubernetes. This (still small) architecture lets us add more
language models or other NLP tasks easily, by adding new microservices and their
corresponding Kafka topics. Since these models usually take a great deal of storage
space, they are stored in <a class="reference external" href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/">Persistent Volumes</a>, which are then
accessed by the pods. Having this models included in the microservice’s Docker image
would be both inefficient and inappropriate.</p>
<p>Apart from the summary-related microservices, the architecture also contains a
Dispatcher in charge of three tasks:</p>
<ol class="arabic simple">
<li><p>It implements a REST API so clients can request summaries. This REST API is
implemented in Python with <a class="reference external" href="https://flask.palletsprojects.com">Flask</a> and the
extension <a class="reference external" href="https://flask-restful.readthedocs.io">Flask-RESTful</a>. If you want to
know about its specification, you can refer to <a class="reference external" href="https://docs.api.jizt.it">docs.api.jizt.it</a>.</p></li>
<li><p>It forwards the request to the appropriate microservice. For now, all the requests
that Ingress forwards to the Dispatcher are as well redirected to the
Pre-processor. However, in the future, requests to different models/NLP tasks will
have to be forwarded to different microservices.</p></li>
<li><p>It stores the summaries in the database. The motivation behind this database is
explained in the <a class="reference internal" href="2_rest_api.html#backend-rest-api"><span class="std std-ref">next section</span></a>. We implement a
PostgreSQL database, deployed making use of the <a class="reference external" href="https://access.crunchydata.com/documentation/postgres-operator">Crunchy PostgreSQL Operator</a>.</p></li>
</ol>
<p>Regarding the database, its table schema is the following:</p>
<div class="figure align-center" id="fig-db-table-schema">
<a class="reference internal image-reference" href="../_images/db-table-schema.png"><img alt="Database table schema." src="../_images/db-table-schema.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 7 </span><span class="caption-text">Summaries database table schema.</span><a class="headerlink" href="#fig-db-table-schema" title="Permalink to this image">¶</a></p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">summary_id</span></code> is produced by the Dispatcher, which hashes (SHA-256, 64 bits) the
source text, the summary parameters, and the model used to generate the summary.</p>
<p>Currently, the backend is hosted on <a class="reference external" href="https://cloud.google.com/kubernetes-engine">Google Kubernetes Engine</a>. The source code of Jizt backend is
accessible through <a class="reference external" href="https://github.com/jizt-it/jizt-backend">github.com/jizt-it/jizt-backend</a>.</p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="2_rest_api.html" class="btn btn-neutral float-right" title="REST API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../summarization/5_postprocessing.html" class="btn btn-neutral float-left" title="Post-processing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>